model Performance {
  id              String   @id @default(nanoid())
  title           String
  startDateTime   DateTime // Start date and time of the performance/event
  runtimeMinutes  Int // Total runtime duration in minutes (e.g., 120 for a 2-hour show)
  intervalMinutes Int      @default(0) // Interval/intermission duration in minutes (0 if no interval)

  type                    PerformanceType
  details                 String? // Additional details about the performance (or the event description)
  maxCapacity             Int // Specific capacity for this performance (might differ from Venue.capacity due to staging, etc.) // Can be set to -1 for unlimited capacity
  reservationInstructions String? // Special instructions for booking this performance
  externalBookingLink     String? // URL for booking via an external platform e.g. SU Website

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  isActive  Boolean  @default(true) // Soft delete for the performance itself

  showId String?
  show   Show?   @relation(fields: [showId], references: [id], onDelete: Cascade) // Performance must belong to a Show

  venueId String?
  venue   Venue?  @relation(fields: [venueId], references: [id], onDelete: SetNull)

  // Relations for pricing, booking, and reporting
  ticketPrices PerformanceTicketPrice[]
  reservations Reservation[]
  // showReport   ShowReport?
  // fohReport    FohReport?
}

enum PerformanceType {
  PERFORMANCE

  RELAXED_PERFORMANCE
  SIGNED_PERFORMANCE
  AUDIO_DESCRIBED_PERFORMANCE
  CAPTIONED_PERFORMANCE

  DRESS_REHEARSAL
  TECHNICAL_RUN
  PREVIEW

  EVENT // e.g. Oscars, Boat Party, etc.
  WORKSHOP // e.g. Stagecraft "Masterclass"
}
