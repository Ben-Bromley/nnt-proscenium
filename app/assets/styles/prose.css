/* Nuxt Content Prose Styling */
/* Comprehensive styling for all Markdown content rendered by ContentRenderer */

/* Container for all prose content */
:where(.prose) {
  color: var(--primary-text-color);
  max-width: none;
  line-height: 1.7;
  font-size: 1rem;
}

/* Headings */
:where(.prose h1) {
  color: var(--primary-text-color);
  font-weight: 700;
  font-size: 2.25rem;
  margin-top: 0;
  margin-bottom: var(--spacing-lg);
  line-height: 1.2;
  border-bottom: 2px solid var(--nnt-orange);
  padding-bottom: var(--spacing-sm);
  position: relative;
}

:where(.prose h2) {
  color: var(--primary-text-color);
  font-weight: 600;
  font-size: 1.875rem;
  margin-top: var(--spacing-2xl);
  margin-bottom: var(--spacing-lg);
  line-height: 1.3;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: var(--spacing-xs);
  position: relative;
}

:where(.prose h3) {
  color: var(--primary-text-color);
  font-weight: 600;
  font-size: 1.5rem;
  margin-top: var(--spacing-xl);
  margin-bottom: var(--spacing-md);
  line-height: 1.4;
  position: relative;
}

:where(.prose h4) {
  color: var(--primary-text-color);
  font-weight: 600;
  font-size: 1.25rem;
  margin-top: var(--spacing-lg);
  margin-bottom: var(--spacing-sm);
  line-height: 1.4;
  position: relative;
}

:where(.prose h5) {
  color: var(--primary-text-color);
  font-weight: 600;
  font-size: 1.125rem;
  margin-top: var(--spacing-lg);
  margin-bottom: var(--spacing-sm);
  line-height: 1.4;
  position: relative;
}

:where(.prose h6) {
  color: var(--secondary-text-color);
  font-weight: 600;
  font-size: 1rem;
  margin-top: var(--spacing-md);
  margin-bottom: var(--spacing-sm);
  line-height: 1.4;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  position: relative;
}

/* Heading anchor links - matches existing main.css styles */
:where(.prose h2 > a, .prose h3 > a, .prose h4 > a) {
  text-decoration: none;
  color: var(--primary-text-color);
  border-bottom: none;
}

:where(.prose h2 > a:hover, .prose h2 > a:focus, .prose h2 > a:active,
  .prose h3 > a:hover, .prose h3 > a:focus, .prose h3 > a:active,
  .prose h4 > a:hover, .prose h4 > a:focus, .prose h4 > a:active) {
  text-decoration: none;
  color: var(--primary-text-color);
}

:where(.prose h2 > a:hover::after, .prose h2 > a:focus::after, .prose h2 > a:active::after,
  .prose h3 > a:hover::after, .prose h3 > a:focus::after, .prose h3 > a:active::after,
  .prose h4 > a:hover::after, .prose h4 > a:focus::after, .prose h4 > a:active::after) {
  content: " üîó";
  font-size: 0.8em;
  color: var(--nnt-orange);
}

/* Paragraphs */
:where(.prose p) {
  margin-top: 0;
  margin-bottom: var(--spacing-lg);
}

:where(.prose p:last-child) {
  margin-bottom: 0;
}

/* Links */
:where(.prose a) {
  color: var(--nnt-orange);
  text-decoration: none;
  font-weight: 500;
  border-bottom: 1px solid transparent;
  transition: all var(--transition-fast);
}

:where(.prose a:hover) {
  color: var(--nnt-orange-light);
  border-bottom-color: var(--nnt-orange-light);
}

:where(.prose a:focus) {
  color: var(--nnt-orange-light);
  border-bottom-color: var(--nnt-orange-light);
  outline: 2px solid var(--nnt-orange);
  outline-offset: 2px;
  border-radius: 2px;
}

:where(.prose a:visited) {
  color: var(--nnt-purple-light);
}

/* External link indicators */
:where(.prose a[href^="http"]:not([href*="newtheatre.org.uk"])::after) {
  content: " ‚Üó";
  font-size: 0.875em;
  color: var(--secondary-text-color);
}

/* Email link styling */
:where(.prose a[href^="mailto:"]) {
  color: var(--nnt-purple);
}

:where(.prose a[href^="mailto:"]:hover) {
  color: var(--nnt-purple-light);
}

/* Strong and emphasis */
:where(.prose strong) {
  color: var(--primary-text-color);
  font-weight: 700;
}

:where(.prose em) {
  color: var(--primary-text-color);
  font-style: italic;
}

:where(.prose del) {
  color: var(--secondary-text-color);
  text-decoration: line-through;
}

/* Code */
:where(.prose code) {
  color: var(--nnt-orange);
  background-color: var(--secondary-bg-color);
  padding: 0.125rem 0.375rem;
  border-radius: var(--border-radius);
  font-size: 0.875rem;
  font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;
  border: 1px solid var(--border-color);
}

/* Code blocks */
:where(.prose pre) {
  color: var(--primary-text-color);
  background-color: var(--secondary-bg-color);
  overflow-x: auto;
  border-radius: var(--border-radius);
  padding: var(--spacing-lg);
  margin: var(--spacing-lg) 0;
  border: 1px solid var(--border-color);
  position: relative;
}

:where(.prose pre code) {
  background-color: transparent;
  border: none;
  padding: 0;
  color: inherit;
  font-size: 0.875rem;
  border-radius: 0;
}

/* Add language label for code blocks */
:where(.prose pre[class*="language-"]) {
  position: relative;
}

:where(.prose pre[class*="language-"]::before) {
  content: attr(class);
  position: absolute;
  top: var(--spacing-xs);
  right: var(--spacing-sm);
  font-size: 0.75rem;
  color: var(--secondary-text-color);
  text-transform: uppercase;
  font-weight: 600;
  letter-spacing: 0.05em;
}

/* Better handling for long code lines */
:where(.prose pre) {
  white-space: pre;
  word-wrap: normal;
}

:where(.prose pre code) {
  white-space: pre;
  word-break: normal;
  word-wrap: normal;
  tab-size: 2;
}

/* Lists */
:where(.prose ul) {
  list-style-type: disc;
  margin-top: 0;
  margin-bottom: var(--spacing-lg);
  padding-left: var(--spacing-lg);
}

:where(.prose ol) {
  list-style-type: decimal;
  margin-top: 0;
  margin-bottom: var(--spacing-lg);
  padding-left: var(--spacing-lg);
}

:where(.prose li) {
  margin-top: var(--spacing-xs);
  margin-bottom: var(--spacing-xs);
  color: var(--primary-text-color);
}

:where(.prose li > p) {
  margin-top: var(--spacing-xs);
  margin-bottom: var(--spacing-xs);
}

/* Nested lists */
:where(.prose ul ul, .prose ul ol, .prose ol ul, .prose ol ol) {
  margin-top: var(--spacing-xs);
  margin-bottom: var(--spacing-xs);
}

:where(.prose ul ul) {
  list-style-type: circle;
}

:where(.prose ul ul ul) {
  list-style-type: square;
}

/* Blockquotes */
:where(.prose blockquote) {
  border-left: 4px solid var(--nnt-purple);
  padding-left: var(--spacing-lg);
  margin: var(--spacing-lg) 0;
  color: var(--secondary-text-color);
  font-style: italic;
  background-color: var(--secondary-bg-color);
  padding: var(--spacing-lg);
  border-radius: 0 var(--border-radius) var(--border-radius) 0;
}

:where(.prose blockquote p) {
  margin: 0;
}

:where(.prose blockquote p + p) {
  margin-top: var(--spacing-md);
}

/* Tables */
:where(.prose table) {
  width: 100%;
  border-collapse: collapse;
  margin: var(--spacing-lg) 0;
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  overflow: hidden;
}

:where(.prose th) {
  background-color: var(--secondary-bg-color);
  color: var(--primary-text-color);
  font-weight: 600;
  text-align: left;
  padding: var(--spacing-sm) var(--spacing-md);
  border-bottom: 1px solid var(--border-color);
}

:where(.prose td) {
  color: var(--primary-text-color);
  padding: var(--spacing-sm) var(--spacing-md);
  border-bottom: 1px solid var(--border-color);
}

:where(.prose tr:hover) {
  background-color: var(--secondary-bg-color);
}

:where(.prose tr:last-child td) {
  border-bottom: none;
}

/* Horizontal rules */
:where(.prose hr) {
  border: none;
  border-top: 2px solid var(--border-color);
  margin: var(--spacing-2xl) 0;
}

/* Images */
:where(.prose img) {
  max-width: 100%;
  height: auto;
  border-radius: var(--border-radius);
  margin: var(--spacing-lg) 0;
  border: 1px solid var(--border-color);
}

/* Figure and figcaption */
:where(.prose figure) {
  margin: var(--spacing-lg) 0;
}

:where(.prose figcaption) {
  color: var(--secondary-text-color);
  font-size: 0.875rem;
  text-align: center;
  margin-top: var(--spacing-xs);
  font-style: italic;
}

/* Special callout styles */
:where(.prose .callout) {
  padding: var(--spacing-lg);
  margin: var(--spacing-lg) 0;
  border-radius: var(--border-radius);
  border-left: 4px solid var(--nnt-orange);
  background-color: var(--secondary-bg-color);
}

:where(.prose .callout.warning) {
  border-left-color: var(--warning);
  background-color: rgba(255, 204, 0, 0.1);
}

:where(.prose .callout.error) {
  border-left-color: var(--error);
  background-color: rgba(255, 77, 77, 0.1);
}

:where(.prose .callout.success) {
  border-left-color: var(--success);
  background-color: rgba(40, 167, 69, 0.1);
}

:where(.prose .callout.info) {
  border-left-color: var(--info);
  background-color: rgba(23, 162, 184, 0.1);
}

/* Tips and notes styling */
:where(.prose .tip, .prose .note, .prose .important) {
  padding: var(--spacing-md) var(--spacing-lg);
  margin: var(--spacing-lg) 0;
  border-radius: var(--border-radius);
  background-color: var(--secondary-bg-color);
  border-left: 4px solid var(--nnt-purple);
  position: relative;
}

:where(.prose .tip::before) {
  content: "üí° Tip";
  font-weight: 600;
  color: var(--nnt-orange);
  display: block;
  margin-bottom: var(--spacing-xs);
}

:where(.prose .note::before) {
  content: "üìù Note";
  font-weight: 600;
  color: var(--info);
  display: block;
  margin-bottom: var(--spacing-xs);
}

:where(.prose .important::before) {
  content: "‚ö†Ô∏è Important";
  font-weight: 600;
  color: var(--warning);
  display: block;
  margin-bottom: var(--spacing-xs);
}

/* Better spacing for content inside callouts */
:where(.prose .callout p, .prose .tip p, .prose .note p, .prose .important p) {
  margin-bottom: var(--spacing-sm);
}

:where(.prose .callout p:last-child, .prose .tip p:last-child,
  .prose .note p:last-child, .prose .important p:last-child) {
  margin-bottom: 0;
}

/* Definition lists */
:where(.prose dl) {
  margin: var(--spacing-lg) 0;
}

:where(.prose dt) {
  color: var(--primary-text-color);
  font-weight: 600;
  margin-top: var(--spacing-md);
}

:where(.prose dt:first-child) {
  margin-top: 0;
}

:where(.prose dd) {
  color: var(--secondary-text-color);
  margin-left: var(--spacing-lg);
  margin-top: var(--spacing-xs);
}

/* Keyboard keys */
:where(.prose kbd) {
  background-color: var(--secondary-bg-color);
  border: 1px solid var(--border-color);
  border-bottom: 2px solid var(--border-color);
  border-radius: var(--border-radius);
  color: var(--primary-text-color);
  font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;
  font-size: 0.75rem;
  font-weight: 600;
  padding: 0.125rem 0.375rem;
  text-transform: uppercase;
}

/* Subscript and superscript */
:where(.prose sub, .prose sup) {
  font-size: 0.75rem;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

:where(.prose sub) {
  bottom: -0.25rem;
}

:where(.prose sup) {
  top: -0.5rem;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  :where(.prose) {
    font-size: 0.9rem;
  }

  :where(.prose h1) {
    font-size: 1.875rem;
  }

  :where(.prose h2) {
    font-size: 1.5rem;
  }

  :where(.prose h3) {
    font-size: 1.25rem;
  }

  :where(.prose pre) {
    padding: var(--spacing-md);
    margin-left: calc(-1 * var(--spacing-md));
    margin-right: calc(-1 * var(--spacing-md));
    border-radius: 0;
  }

  :where(.prose table) {
    font-size: 0.875rem;
  }

  :where(.prose th, .prose td) {
    padding: var(--spacing-xs) var(--spacing-sm);
  }
}

/* Print styles */
@media print {
  :where(.prose) {
    color: black;
  }

  :where(.prose a) {
    color: black;
    text-decoration: underline;
  }

  :where(.prose pre, .prose code) {
    background-color: #f5f5f5;
    border: 1px solid #ccc;
  }
}